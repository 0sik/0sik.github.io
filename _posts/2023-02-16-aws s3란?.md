---
layout: single
title: "s3ë€?"
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨"
categories: aws
toc_icon: "bars"
tags: [aws]
---

ğŸ“˜s3

# s3 ë€?
AWS Simple Storage Service(S3)ëŠ” ì¸í„°ë„·ìš© ìŠ¤í† ë¦¬ì§€ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì´ ì„œë¹„ìŠ¤ëŠ” ê°œë°œìê°€ ë” ì‰½ê²Œ ì›¹ ê·œëª¨ ì»´í“¨íŒ… ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. 
ì œê³µí•˜ëŠ” ë‹¨ìˆœí•œ ì›¹ ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì›¹ì—ì„œ ì–¸ì œ ì–´ë””ì„œë‚˜ ì›í•˜ëŠ” ì–‘ì˜ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

## ì“´ ì´ìœ 
ë°ì´í„°ë² ì´ìŠ¤ì— ì‚¬ì§„ì„ ê·¸ëŒ€ë¡œ ì €ì¥í•  ìˆ˜ ì—†ì–´ì„œ ì‚¬ì§„ì„ s3ë¡œ ì˜¬ë ¤ì„œ urlì„ ë°˜í™˜í•œ ë‹¤ìŒ ë°ì´í„°51ë² ì´ìŠ¤ì— urlì„ ì €ì¥í•˜ì˜€ë‹¤.

## ì½”ë“œ

```

        file = request.FILES['id']

        fileFormat = file.content_type.split("/")[1]
        file._set_name(str(uuid.uuid4()))
        s3r = boto3.resource('s3', aws_access_key_id=settings.AWS_ACCESS_KEY_ID,
                             aws_secret_access_key=settings.AWS_SECRET_ACCESS_KEY)
        key = f"{file}"

        s3r.Bucket(settings.AWS_STORAGE_BUCKET_NAME).put_object(Key="static/" + key, Body=file, ContentType=fileFormat)
        key = f"static/{file}"
        s3url = settings.AWS_S3_CUSTOM_DOMAIN + "/" + key
  
        return Response(s3url, status=200)
        
        
```