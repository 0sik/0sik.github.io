---
layout: single
title: "Spring Transaction"
toc: true
toc_sticky: true
toc_label: "목차"
categories: spring
toc_icon: "bars"
tags: [spring]
---

📘 Spring Transaction

# Transaction
- 트랜젝션이란 쪼갤 수 없는 여러 작업들을 논리적으로 묶은 최소 단위로 묶은것이다.

## 특징 

이론적으로 데이터베이스 시스템은 각각의 트랜잭션에 대해 원자성(Atomicity), 일관성(Consistency), 독립성(Isolation), 영구성(Durability)을 보장한다. 이 성질을 첫글자를 따 ACID라 부른다.

- 원자성(Atomicity)
트랙잭션의 연산은 DB에 모두 반영되던지, 모두 반영되지 않아야 한다. 하나라도 실패한다면 앞서 성공한 것들을원상 복구 시켜야한다.

- 일관성(Consistency)
트랜잭션의 작업 처리 결과는 항상 일관성 있어야 한다.

- 독립성(Isolation)
어떤 트랜잭션도 다른 트랜잭션의 작업에 끼어들 수 없다.

- 지속성(Durability)
트랜잭션이 완료된다면, 결과는 영구적이어야 한다.

## 정의
데이터베이스 관리 시스템 또는 유사한 시스템에서 상호작용의 단위이다. 여기서 유사한 시스템이란 트랜잭션이 성공과 실패가 분명하고 상호 독립적이며, 일관되고 믿을 수 있는 시스템을 의미한다. 데이터의 정합성을 보장하기 위해 고안된 방법이다.

## 목적
오류로부터 복구를 허용하고 데이터베이스를 일관성있게 유지하는 안정적인 작업 단위를 제공한다.
동시 접근하는 여러 프로그램 간 격리를 제공한다

## 과정 
트랜잭션 시작
비즈니스 로직 실행(여러 쿼리들이 실행) (DB내 갱신이 아직 적용되지 않는다)
트랜잭션 커밋 (트랜잭션이 성공적이며, 갱신이 실제 적용됨)
만약 쿼리 하나가 실패하면, 데이터베이스 시스템은 전체 트랜잭션 또는 실패한 쿼리를 롤백한다.