---
layout: single
title: "Pipelining(íŒŒì´í”„ë¼ì´ë‹)"
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨"
categories: backendstudy
toc_icon: "bars"
tags: [backendstudy]
---
ğŸ“˜ Pipelining(íŒŒì´í”„ë¼ì´ë‹)

branch predictionì„ ê³„ê¸°ë¡œ ì»´í“¨í„° êµ¬ì¡°ì— ëŒ€í•´ í•œë²ˆ ê³µë¶€í•´ë³´ëŠ” ì‹œê°„ì„ ê°€ì§€ë‹¤
ì´ê²ƒì´ ì™œ ì“°ê²Œ ëëŠ”ì§€ ì•Œì•„ë³´ë‹¤ íŒŒì´í”„ë¼ì´ë‹ì´ë¼ëŠ” ì¤‘ìš”í•œ ê¸°ìˆ ì„ ì•Œê²Œë˜ì—ˆë‹¤.

# Pipelining(íŒŒì´í”„ë¼ì´ë‹)

ëª…ë ¹ì–´ë¥¼ ìˆœì°¨ì ì„ ì‹¤í–‰í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ì— ì ìš©ë˜ëŠ” ê¸°ìˆ ì´ë‹¤.
í•œë²ˆì— í•˜ë‚˜ì˜ ëª…ë ¹ì–´ë§Œ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í•˜ë‚˜ì˜ ëª…ë ¹ì–´ê°€ ì‹¤í–‰ë˜ëŠ” ë„ì¤‘ì— ë‹¤ë¥¸ ëª…ë ¹ì–´ ì‹¤í–‰ì„ ì‹œì‘í•˜ëŠ” ì‹ìœ¼ë¡œ
ë™ì‹œì— ì—¬ëŸ¬ê°œì˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ëŠ” ê¸°ë²•ì´ë‹¤. 
ì¦‰, í•œ ëª…ë ¹ì–´ì˜ ìˆ˜í–‰ì´ ëë‚˜ê¸° ì „ì— ë‹¤ë¥¸ ëª…ë ¹ì–´ì˜ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ íŒŒì´í”„ë¼ì´ë‹ì´ë‹¤.

## ì‚¬ìš© ì´ìœ 
ë§Œì•½, íŒŒì´í”„ë¼ì¸ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë‹¨ì¼ ì‚¬ì´í´ì„ ì‚¬ìš©í•˜ë©´ í•œ ëª…ë ¹ì–´ê°€ ëë‚ ë•Œê°€ì§€ ë‹¤ë¥¸ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì§€ ëª»í•˜ê²Œ ëœë‹¤.

í•˜ì§€ë§Œ íŒŒì´í”„ë¼ì´ë‹ì„ ìˆ˜í–‰í•˜ê¸° ì–´ë µê²Œ í•˜ëŠ” ë¶€ë¶„ë“¤ì´ ì¡´ì¬í•œë‹¤.

ì´ë¥¼ í•´ì €ë“œë¼ê³  í•œë‹¤.

## í•´ì €ë“œ
í•´ì €ë“œì˜ ì¢…ë¥˜ì—ëŠ” ì„¸ê°€ì§€ê°€ ìˆë‹¤.

- êµ¬ì¡°ì  í•´ì €ë“œ : êµ¬ì¡°ì  í•´ì €ë“œë€ íŒŒì´í”„ë¼ì¸ì—ì„œ ì‹¤í–‰ì¤‘ì¸ 2ê°œ ì´ìƒì˜ ëª…ë ¹ì–´ê°€ ë™ì¼í•œ í•˜ë“œì›¨ì–´ ìì›ì¼ ë“±ì‹œì— ìš”êµ¬í•˜ê¸° ë•Œë¬¸ì— íŒŒì´í”„ë¼ì¸ì„ ë©ˆì¶°ì•¼ í•˜ëŠ” ìƒí™©ì„ êµ¬ì¡°ì  í•´ì €ë“œë¼ê³  í•œë‹¤.

- ë°ì´í„° í•´ì €ë“œ : ì—°ì‚°í•  ë°ì´í„°ê°€ ì¤€ë¹„ë˜ì§€ ì•Šì•„ íŒŒì´í”„ë¼ì¸ì„ ë©ˆì¶°ì•¼ í•˜ëŠ” ëª¨ë“  ìƒí™©ì´ë‚˜ ì¡°ê±´ì„ ë°ì´í„° í•´ì €ë“œë¼ê³  í•œë‹¤. ì£¼ë¡œ ì„ í–‰ ëª…ë ¹ì–´ì™€ í›„í–‰ ëª…ë ¹ì–´ê°€ ì‚¬ìš©í•˜ëŠ” ë°ì´í„° ê°„ ì¢…ì†ì„± ë¬¸ì œë¡œ ë°œìƒí•˜ëŠ”ë° ì´ëŠ” ì‰½ê²Œ ë§í•´ ì„ í–‰ ëª…ë ¹ì–´ì™€ í›„í–‰ ëª…ë ¹ì–´ê°€ ì“°ëŠ” ë ˆì§€ìŠ¤í„°ê°€ ê°™ì„ ë•Œ ì£¼ë¡œ ë°œìƒí•œë‹¤
(ë ˆì§€ë“œí„° : í”„ë¡œì„¸ì„œì— ìœ„ì¹˜í•œ ê³ ì† ë©”ëª¨ë¦¬ë¡œ ê·¹íˆ ì†ŒëŸ‰ì˜ ë°ì´í„°ë‚˜ ì²˜ë¦¬ ì¤‘ì¸ ì¤‘ê°„ ê²°ê³¼ì™€ë„ ê°™ì€ í”„ë¡œì„¸ì„œê°€ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°ì´í„°ë¥¼ ë‹´ê³  ìˆëŠ” ì˜ì—­)

- ëª…ë ¹ì–´ í•´ì €ë“œ : ì‹¤í–‰í•  ëª…ë ¹ì–´ê°€ ê²°ì •/ì¤€ë¹„ë˜ì§€ ì•Šì•„ì„œ ë©ˆì¶°ì•¼ í•˜ëŠ” ìƒí™©ì´ë‚˜ ì¡°ê±´ 

ì´ ëª…ë ¹ì–´ í•´ì €ë“œ ë•Œë¬¸ì— ë¶„ê¸°ì˜ˆì¸¡ì„ ì“°ëŠ”ê²ƒì´ë‹¤. ê·¸ëŸ¼ ì´ ëª…ë ¹ì–´ í•´ì €ë“œê°€ ë­”ì§€ ì‚´í´ë³´ì

### ëª…ë ¹ì–´ í•´ì €ë“œ
ë¶„ê¸° ëª…ë ¹ì–´ì˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´ +1, ë§Œì¡±í•˜ì§€ ëª»í•˜ë©´ -1 í•œë‹¤ê³  í•œë‹¤
ë¶„ê¸° ëª…ë ¹ì–´ì˜ ì¡°ê±´ì„ ë¹„êµí•˜ê³ ìˆëŠ”ë°, íŒŒì´í”„ë¼ì´ë‹ì„ ë„ì…í–ˆê¸° ë•Œë¬¸ì— ë‹¤ìŒ ì‹¤í–‰í•  ëª…ë ¹ì–´ë¥¼ ë‹´ëŠ” ë ˆì§€ìŠ¤í„°ì—ëŠ” +1ì„ í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ë‹´ì•„ ë†“ì•˜ë‹¤.
ì¡°ê±´ì„ ë¹„êµí•´ë³´ë‹ˆ ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ì•Šì•„ì„œ -1ì„ í•´ì•¼ ë˜ë¯€ë¡œ ì•ì— ìˆ˜í–‰ ã…í–ˆë˜ ê³¼ì •ë“¤ì„ ì›ë˜ëŒ€ë¡œ ë³µì›ì‹œì¼œë†”ì•¼í•œë‹¤. 
ì´ ê³¼ì •ì´ ë³µì¡í•˜ê¸° ë•Œë¬¸ì— ë¶„ê¸° ëª…ë ¹ì–´ë¥¼ ë§Œë‚¬ì„ ë•Œì—ëŠ” íŒŒì´í”„ë¼ì¸ì„ì¼ì‹œì ìœ¼ë¡œ ì¤‘ë‹¨í•˜ê³  ê¸°ë‹¤ë ¤ì•¼ ëœë‹¤.


#### í•´ê²°ë°©ì•ˆ(ì§€ì—°ë¶„ê¸°ì™€ ë¶„ê¸°ì˜ˆì¸¡)
ëª…ë ¹ì–´ í•´ì €ë“œëŠ” ì£¼ë¡œ ë¶„ê¸° ëª…ë ¹ì–´ ë•Œë¬¸ì— ë°œìƒí•œë‹¤.
ë¶„ê¸° ëª…ë ¹ì–´ëŠ” ë¶„ê¸° íŒ¨ë„í‹°ì— í•´ë‹¹í•˜ëŠ” ì‚¬ì´í´ë§Œí¼ íŒŒì´í”„ë¥¼ ë‚­ë¹„í•œë‹¤.
ì´ì™€ ê°™ì´ ë‚­ë¹„ë˜ëŠ” íŒŒì´í”„ë¥¼ ë¶„ê¸° ì§€ì—° ìŠ¬ë¡¯ì´ë¼ê³ í•œë‹¤.

ì§€ì—° ìŠ¬ë¡¯ì„ ë¶„ê¸° ëª…ë ¹ì–´ì™€ ê´€ê³„ì—†ëŠ” ëª…ë ¹ì–´ë¡œ ì±„ìš´ë‹¤ë©´ ëª…ë ¹ì–´ í•´ì €ë“œì˜ ì˜í–¥ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

ì´ì œ ìš°ë¦¬ê°€ ì•Œì•„ì•¼í• ê±´ ë¶„ê¸°ì˜ˆì¸¡ì´ë‹¤.
Static Branch Prediction(ì •ì ë¶„ê¸°ì˜ˆì¸¡)
Dynamic Branch Prediction(ë™ì ë¶„ê¸°ì˜ˆì¸¡)
ìœ¼ë¡œ ë‚˜ë‰œë‹¤.
ì •ì  ë¶„ê¸° ì˜ˆì¸¡ì€ ì»´íŒŒì¼ëŸ¬ì˜ ë„ì›€ìœ¼ë¡œ ë¶„ê¸° ì—¬ë¶€ë¥¼ ì˜ˆì¸¡í•˜ëŠ” ê¸°ë²•ìœ¼ë¡œ ë¶„ê¸°ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤(ë¶„ê¸°ê°€ ì‹¤íŒ¨í•œë‹¤)ê³  ê°€ì •í•˜ëŠ” ë°œìƒ ì˜ˆì¸¡ ê¸°ë²•ê³¼ ë¶„ê¸°ê°€ ë°œìƒí•œë‹¤(ë¶„ê¸°ê°€ ì„±ê³µí•œë‹¤)ê³  ê°€ì •í•œëŠ ë°œìƒ ì–˜ì¸¡ê¸°ë²•ì´ ìˆë‹¤.
1. ë¶„ê¸°ê°€ ì‹¤íŒ¨í•  ê²ƒìœ¼ë¡œ ì˜ˆì¸¡ (predict the branch as not taken)
    - ë¶„ê¸°ê°€ ì¼ì–´ë‚˜ì§€ ì•Šì„ ê²ƒìœ¼ë¡œ ì˜ˆì¸¡í•˜ê³  ì‹¤í–‰
    - ë¶„ê¸° ì£¼ì†ŒëŠ” â€œIDâ€ ë‹¨ê³„ì—ì„œ ë¯¸ë¦¬ ê³„ì‚° -> ID : Instruction Decoding ë‹¨ê³„
    - ë§Œì•½ ë¶„ê¸°ê°€ ì¼ì–´ë‚˜ë©´, íŒŒì´í”„ë¼ì¸ì„ ë©ˆì¶˜ ë’¤ ë¶„ê¸° ì£¼ì†Œë¡œ ì´ë™
2. ë¶„ê¸°ê°€ ì„±ê³µí•  ê²ƒìœ¼ë¡œ ì˜ˆì¸¡ (predict the branch as taken)
    - ë¶„ê¸° ì£¼ì†ŒëŠ” â€œIDâ€ ë‹¨ê³„ì—ì„œ ë¯¸ë¦¬ ê³„ì‚°
    - ì˜ˆìƒ í˜ë„í‹°: 1 ì‚¬ì´í´ (ì‹¤ì œë¡œ ë¶„ê¸° ì•ˆ í•¨), 1 ì‚¬ì´í´ (ì‹¤ì œë¡œ ë¶„ê¸°) -> ì¥ì ì´ì ë‹¨ì ì„. ë¬´ì¡°ê±´ 1ì‚¬ì´í´

Dynamic Branch Prediction(ë™ì ë¶„ê¸°ì˜ˆì¸¡) ì „ì— ì“´ ë¸”ë¡œê·¸ì— ë‹¤ë¤„ë³¼ ì˜ˆì •ì´ë‹¤. 
[ë§í¬](https://0sik.github.io/backendstudy/backendstudy-Branch-Prediction(%EB%B6%84%EA%B8%B0%EC%98%88%EC%B8%A1)/)



