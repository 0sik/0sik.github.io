---
layout: single
title: "컴퓨터 네트워크와 인터넷"
toc: true
toc_sticky: true
toc_label: "목차"
categories: Network
excerpt: "컴퓨터 네트워크와 인터넷"
tag: [Network]
---

📘컴퓨터 네트워크

# 프로토콜
- 프로토콜은 둘 이상의 통신 개체간에 교환되는 메시지 포맷과 순서뿐 아니라, 메시지의 송수신과 다른 이벤트에서 취하는 행동을 정의
> 송신자와 수신자 간에 데이터를 주고 받기 위한 통신규약
> 1. 교환되는 메시지 포멧
> 2. 메시지 전달 순서
> 3. 메시지 전송에 대한 행동

# 상세 네트워크 구조
### 1. 네트워크 엣지 : 응용과 호스트(pc) ex)컴퓨터,스마트폰
- edge : 정보 이용,making or using , network:정보전달
- edge에서 core로 갈수록 장비의 수는 적지만 연결되는(링크를 타고 들어오는)트레픽의 양은 많다
- 종단 시스템(호스트) : 응용 프로그램을 실행,"네트워크 엣지"에 위치 ex)웹,email
- 클라이언트/서버 모델 : 클라이언트는 서비스를 요청하고, 항상 켜져 있는 서버로부터 요청 결과를 수신함
- peer-peer 모델 : 전용 서버가 없거나 최소한으로 사용함 ex)Skype,Bit Torrent
### 2. 액세스 네트워크(어느 한 종단 시스템으로부터 먼 거리에 있는 다른 종단 시스템까지의 경로상에 있는 첫번째 라우터에 연결하는 네트워크)
-액세스 네트워크란 edge가 바로 연결되는 network,user가 바로 access함
1. 케이블 기반 액세스 (케이블 망을 이용한 인터넷 이용)
> 주파수 분할 다중화(FDM) : 서로 다른 주파수 대역에서 전송되는 서로 다른 채널
> - 주파수를 분활해서 여러 data를 한 채널에 실음
> - 특징 : 끝 단으로 가면 하나의 케이블을 여러 집이 같이 붙여서 쓴다
>
> HFC : hybrid fiber coax (광,동축)
> - 광케이블과 동출케이블 모두 이 시스템에서 채택하므로 흔히 HFC로 호칭
> - 비대칭 방식 : 최대 40Mbps ‒ 1.2Gbs 다운스트림 전송 속도, 30-100Mbps 업스트림 전송 속도
> - * 케이블과 광으로 구성된 네트워크를 통해 집과 ISP 라이터를 연결
> - 집들은 라우터와의 연결을 공유함
> - 가정에서 케이블 헤드엔드에 대한 액세스 네트워크 공유
> - 분기가 되면 그 만큼 power가 약해짐
> - 어느 정도 지점에 가면 어느 집은 신호가 약해서 문제가 생김

2. 디지털 가입자 회선(DSL)
- 디지털 가입한 사람이 쓰는 전용 회선
- splitter : 가정에 도착하는 데이터와 전화신호를 분히라고 데이터 신호를 DSL모뎀으로 전송
- DSL모뎀(디지털 신호는 멀리 못가서 DSL모뎀으로 아날로그로 변환시킴)
> 중앙 사무실 DSLAM인 기존 전화선을 사용
> - DSL 전화선을 통한 데이터가 인터넷으로 연결됨
> - DSL 전화선을 통한 음성이 전화망으로 연결됨
> 
> 24-52Mbps 전용 다운스트림 전송 속도 , 3.5-16Mbps 전용 업스트림 전송 속도

3. 홈 네트워크 
- 유선으로 모뎀과 유선공유기로 네트워크를 씀

4. 무선 액세스 네트워크
- 공유 무선 액세스 네트워크가 종단 시스템을 라이터에 연결합니다
- 무선 근거리 통신망(무선랜) : 일반적으로 건물 내부 또는 주변 , 여러사람이 사용하면 느려짐, WIFI : 11,54,450Mbps전송 속도
- 광역 셀룰러 액세스 네트워크 : 이동 통신 사업자 제공(10km) , 이동하면 가까운 기지국으로 자동으로 switching됨, 10's Mbps
5. 엔터프라이즈 네트워크
- 기업 대학 등
- 혼합된 유선,무선 링크 기술, 혼합된 스위치 연결 및 라우터
- 이더넷 : 100Mbps,1Gbps,10Gbps의 유선 엑세스, WiFi : 11,54,450Mbps의 무선 액세스 포인트

### 3. 물리 매체 (유선 통신 링크)
- 두개의 네트워크 장비를 연결해서 전기신호를 전송하기 위해서 사용되는 매체
- 비트 : 송신/수신 양단 간에 전파
- 물리 연결 : 송신측과 수신측 사이에 위치
- 유도 매체 : 견고한 매체를 따라 신호를 전파 : 구리,광,동축
- 비유도 매체 : 신호가 자유롭게 전파 , 대기와 야외공간으로 파형을 전파 : 무선
- 꼬임 쌍선(TP) : 두개의 절연된 구리선
1. 동축 케이블 : 두개의 동심원 형태의 구리선
- baseband : 전송량이 작음 , 케이블에 단일 채널, 예전의 이더넷
- broadband : 케이블에 다중(데이터양이 많음)채널, HFC
2. 광 케이블 : 광 펄스를 전달하는 광섬유
- 고속 동작
- 낮은 에러 비율 : 외부 전자파의 영향을 받지 않음 
3. 전파 : 신호가 전자기 스펙트럼을 통해 전달
- 물리적 선이 없음
- 양방향
- 전파에 영향을 미치는 환경 요인 : 반사 ,물체에 의한 장애 ,상호간섭
- ex) 지상 마이크로파,LAN(wifi),광역(세룰러),위성

### 4. 네트워크 코어(인터넷의 종단 시스템을 연결하는 패킷 스위치와 링크의 그물망)
- 상호 연결된 라으터들의 모임
- router와 router 사이 : 광 케이블 이용
- router란 core network을 구성하는 가장 중요한 장비, 패킷 덩어리를 받아서 주소 정보를 보고 shortest로 전달 : 패킷전달
1. 호스트 : 패킷 데이터 전송
- 호스트 전송 기능 : application message 접수
- 길이가 L비트인 패킷으로 알려진 더 작은 덩어리로 나눈다
- 액세스에 패킷을 전송, 전송 속도 R의 네트워크
- 링크 전송 속도, 일명 링크 용량, 일명 링크 대역폭
- 모든 패킷이 전송 되는 시간 = L(bits)/R(bits/sec) = 총 n2비트/1초동안 n1비트 전송
> 데이터가 어떻게 네트워크를 통해 전달되나?
> 
> 1. 회선 교환 : 호출(call)마다 전용 회선 사용 : 전화 네트워크
> 
> 2. 패킷 교환 : 데이터가 "조각" 분리되어 네트워크를 통해 전달
> - 작은 단위로 링크를 share

1.1 회선 교환 - 2nd 스위칭 방식
- 회선 교환 방식에서는 "call"에 대해 종단 간 회선 자원을 예약하여 사용
- 전용 자원 : 공유하지 않음 (예약된 회선을 통해 보장된 성능 보장)
- Call에 의해 예약된 회선이 사용되지 않으면 회선 자원이 낭비됨(회선이 다른 사용자와 공유 되지 않기 때문)
- 회선 교환은 주로 전통적인 전화 네트워크에서 사용됨(전화는 중간에 끊기거나 전송지연이 일어나면 안됨)
- 데이터 전송되지 않을 경우 회선 사용 없음
1.2 회선 교환 : FDM과 TDM
- FDM 주파수 분할 다중화 (한번에 여러 데이터 보냄)
- TDM 시분할 다중화
2.1 패킷 교환 - 저장 후 전송
- 저장-후-전달 방식 : 패킷 단위로 전송을 완료한 이후에 다음 전송 진행
- R bps의 링크 상에 L 비트의 패킷을 전송하는데 L/R초가 소요됨
- 저장 후 전송 : 패킷 전체가 라우터에 도달한 이 후에야 다음 링크로 다시 전송 될수 있음
- 전체 지연 = 2L/R (출발지->라우터)+(라우터->목적지) 전송 시간 (두번의 link, 전파 지연은 없다고 가정)
2.2 패킷 교환 - 큐잉 지연(queue(버퍼)에 패킷이 들어감,손실)
- 정해진 시간 동안에 링크로의 패킷 도달율이 링크를 통한 패킷 전송률보다 클 경우(도착율>전송율)
  - 패킷은 링크에서 전송을 기다리며 큐에서 대기함
  - 만약에 대기 큐의 버퍼가 가득 차는 경우에는 도달한 패킷은 손실됨
2.3 패킷 교환 - 2가지 핵심 기능
- 라우팅(routing) : 패킷이 전달될 출발지 - 도착지 경로(path)결정
  - 라우팅 알고리즘 : 목적지로의 가장 짧은 길을 찾아서 그 길에 해당한 링크를 전달
- 전달(forwarding) : 패킷의 도달 목적지에 따라서 라우터의 입력 링크에서 적절한 출력 링크로 전달
  - routing table을 참조해서 링크로 전달하는 기능 
  - router table이 비어있을 때 패킷이 들어가면 매칭되는 엔트리가 없기 때문에 전달할수 없음 -> 패킷을 버림

## 패킷 교환 vs 회선교환
- 패킷 교환이 더 많은 사용자들이 네트워크를 사용할 수 있게 해줌
- 패킷 교환은 bursty(전체구간에서 일부 구간에 몰리는 경우)데이터 전송에 유리
- 자원 공유 ,단순함,호 설정이 필요 없음
- 과도한 혼잡 : 패킷 지연과 손실 발생 가능 (안정적인 데이터 전송과 혼잡 제어를 위한 프로토콜 필요)

# 네트워크들의 네트워크
- 단말 시스템은 접속 ISP 들을 통해 인터넷에 연결됨
- 접속 ISP들은 순차적으로 연결되어야 함
- 여러 ISP들이 존재 그 ISP를 연결하는 IXP도 존재
- 지역 네트워크 : 접근 네트워크를 ISP들을 연결함
- 콘텐츠 공급자 네트워크 : 기존 ISP를 사용하지 않고 자신만의 네트워크 운영하여 사용자들에게 접근 가능

# 손실과 지연이 발생하는 이유
- 패킷은 라이터 버퍼 안에서 대기
  - 링크의 패킷 도착 비율이 출력 링크의 용량을 초과->buffer에 쌓이게됨
  - 패킷 큐에서, 자신의 차례를 기다림
  
# 패킷 지연 네가지 종류
1. 노드 처리 지연 (d(proc))
- 노드에서 패킷을 받고 전송하는 과정에서 캐싱이 도달했을때 proces가 처리하는 내용들이 수행되는데 소요되는 시간
- 비트 오류 검사 (링크 단위에서 오류 체크)
- 출력 링크를 결정 (목적지 주소 확인후 리우팅 table참조)
- 일반적으로 작음
2. 큐잉 지연(d(queue))
- 출력 링크에서 전송을 위해 queue에서 기다리는 시간
- 라우터의 혼잡 정도에 의존 (비례관계)
- R = 링크 대역폭 (bps)
- L = 패킷 길이(비트)
- a = 평균 패킷 도착 비율
- 트래픽 강도 = La/R
- La/R ~ 0 : 평균 큐잉 지연이 작음
- La/R -> 1 : 지연이 커짐
- LA/R > 1 : 서비스 가능한 용량 이상의 패킷들이 도착, 평균 지연은 무한대, 패킷 손실 발생 가능
- 패킷 손실
  - 큐는 유한한 용량을 가짐
  - 가득 차 있는 큐에 도착한 패킷은 드롭됨
  - 손실된 패킷은 이전의 노드 ,출발지에서 재전송 되거나 그렇지 않을 수 있음
3. 전송 지연(d(trans))
- L/R
4. 전파 지연(d(prop))
- d= 물리 링크의 길이 = 거리
- s= 매체의 전송 속도
- d/s

d(nodal) = d(proc)+d(queue)+d(trans)+d(prop)

# 종단 간 지연
- Traceroute 프로그램 : 출발지에서 목적지까지의 인터넷 경로에 있는 모든 라우터까지의 지연을 측정

# 처리율 
- 출발지와 목적지 간에 전송되는 비트의 비율(비트/시간단위)
- 비트를 파이프로 보냄(Rs)-파이프는 Rs bit/초 의 비율로 비트를 보냄 -> 파이프는 Rc bits/초의 비율로 비트를 보냄
- Rs<Rc 일때 종단간 평균 처리율 Rs에 의해 제한 Rs가 더 느리므로 병목링크
- Rs>Rc 일때 종단간 평균 처리율 Rc에 의해 제한 Rc가 더 느리므로 병목 링크
- 병목 링크 - 종단간 처리율을 최종 결정하는 경로상의 링크
- 인터넷 시나리오
  - A와B 연결 당 종단 간 처리율 : (Rs,R/10,Rc)중 최소값

# 네트워크 보안
- 맬웨어는 바이러스,웜 또는 트로이목마의 형태로 호스트에 침입
- 스파이웨어는 키보드 입력, 웹 사이트 방문 기록 등을 기록해 특정한 사이트로 보냄
- 감염된 호스트는 봇넷에 등록되어 스팸과 분산 서비스 공격에 사용됨
- 많은 맬웨어는 자기복제를 함 : 감염된 호스트에서 다른 호스트로의 엔트리를 찾음
> 공격자 : 서버 및 네트워크 하부 구조 공격
> 
> 서비스 거부 : 공격자는 서버 또는 네트워크에 가짜 트래픽을 과도하게 발생시켜 정상적인 트래픽 처리가 불가능하게 함
> 
> 패킷 스니핑 : 공유 가능한 이더넷 또는 무선의 방송 매체 대상으로 
> 프로미스큐어스모드로 설정된 네트워크 인터페이스를 통해 지나가는 모든 패킷을 읽고 해석하여 비밀번호 등을 알아낼 수 있음
> IP 스푸핑 : 거짓 발신지 주소로 패킷 전송

# 프로토콜 계층
-복잡한 시스템을 다룰 때 : 계층화 존재
- 명시적인 구조가 복잡한 시스템 구성 요소를 식별하고 관계를 잘 알 수 있게 해줌
- 모듈화는 시스템의 갱신,유지보수를 쉽게 해줌