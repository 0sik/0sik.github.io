---
layout: single
title: "dockerëž€ë¬´ì—‡ì´ë©° ì“°ëŠ”ë²•"
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨"
categories: docker
toc_icon: "bars"
tags: [docker]
---

ðŸ“˜docker

# Dockerëž€
ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ íŒ¨í‚¤ì§• í•  ìˆ˜ìžˆëŠ” íˆ´
ê°œë°œìžë“¤ì˜ pcë§ˆë‹¤ ì„œë²„ë§ˆë‹¤ ì„œë²„ ë²„ì „ë“± ë‹¤ë¥´ê¸°ë•Œë¬¸ì— 
ë¦¬ëˆ…ìŠ¤ ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ê³ , ì‚¬ìš©í•  ìˆ˜ ìžˆëŠ” ì»¨í…Œì´ë„ˆí™” ê¸°ìˆ 

1. ì›í•˜ëŠ” ê°œë°œ í™˜ê²½ì„ íŒŒì¼ì— ì €ìž¥í•˜ë©´ , dockerëŠ” ì´ë¥¼ ì›í•˜ëŠ” ì–´ë–¤ ë¨¸ì‹ ì—ë“  í•´ë‹¹ í™˜ê²½ì„ ì‹œë®¬ë ˆì´ì…˜ í•´ì¤€ë‹¤
2. ì´ëŸ¬í•œ í™˜ê²½ë“¤ì€ ê°ê¸° ë…ë¦½ì ìœ¼ë¡œ ì¡´ìž¬í•˜ê¸° ë•Œë¬¸ì— , ì›í•˜ëŠ” í™˜ê²½ì´ë“  ëª¨ë“ˆì‹ìœ¼ë¡œ ê´€ë¦¬ ê°€ëŠ¥

## Dockerì˜ ìž¥ì 

> íŒ€ì›Œí¬ì—ì„œì˜ ì´ì 

ê°œë°œì„ í•˜ë‹¤ë³´ë©´ íŒ€ì›ë“¤ê³¼ ì–¸ì–´ë‚˜ í”„ë ˆìž„ì›Œí¬ì˜ ë²„ì „ì´ ë‹¬ë¼ ì˜¤ë¥˜ê°€ ë‚˜ëŠ” ê²½ìš°ê°€ ìžˆì„ ìˆ˜ ìžˆë‹¤. í•„ìžì˜ ê²½ìš° í”„ë¡œì íŠ¸ë¥¼ í•  ë•Œ íŒ€ì›ë“¤ê³¼ íŒŒì´ì¬ ë²„ì „ì´ ë‹¬ë¼ì„œ ì´ìŠˆë¥¼ ê²ªì—ˆë˜ ì ì´ ìžˆë‹¤.

ë„ì»¤ë¥¼ ì‚¬ìš©í•˜ë©´ ì´ëŸ° ë¬¸ì œë¥¼ ì‰½ê²Œ í•´ê²°í•  ìˆ˜ ìžˆë‹¤. ë„ì»¤ ì´ë¯¸ì§€ì— ì–¸ì–´ë‚˜ í”„ë ˆìž„ì›Œí¬ ë²„ì „ì„ ë¯¸ë¦¬ ëª¨ë‘ ì •í•´ë†“ì„ ìˆ˜ ìžˆê³  í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ ì»¨í…Œì´ë„ˆí™” ì‹œí‚¤ë©´ ê·¸ ì»¨í…Œì´ë„ˆëŠ” ë¡œì»¬ í™˜ê²½ì˜ ê°„ì„­ ì—†ì´ ë…ë¦½ì ìœ¼ë¡œ êµ¬ë™í•˜ê¸° ë•Œë¬¸ì— ìœ„ì™€ ê°™ì€ ê±±ì •ì„ í•  í•„ìš”ê°€ ì‹¹ ì‚¬ë¼ì§„ë‹¤.

ë˜í•œ Dockerfileì„ ì‚¬ìš©í•˜ë©´ ì„¤ì¹˜í•  ì–¸ì–´, í”„ë ˆìž„ì›Œí¬, íŒ¨í‚¤ì§€ ë“±ì„ ë¯¸ë¦¬ ì½”ë“œ í˜•íƒœë¡œ ëª…ì‹œí•˜ê³  ì–´ëŠ ì»´í“¨í„°ì—ì„œë“  ì‰½ê²Œ ìžë™ìœ¼ë¡œ ì„¤ì¹˜í•  ìˆ˜ ìžˆë‹¤.

## Dockerfile
ì»¨í…Œì´ë„ˆë¥¼ ì–´ë–»ê²Œ ë§Œë“¤ì–´ì•¼ ë˜ëŠ”ì§€ ì„¤ëª…ì„œì™€ ê°™ì€ê²ƒì´ë‹¤
ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“œë ¤ë©´ í•„ìš”í•œ íŒŒì¼ì´ ë¬´ì—‡ì¸ì§€ ì–´ë–¤ í”„ë ˆìž„ì›Œí¬ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•´ì•¼í•˜ëŠ”ì§€
í™˜ê²½ë³€ìˆ˜ ì„¤ì • , ìŠ¤í¬ë¦½íŠ¸ í¬í•¨
copy files, install dependecies , set environment variables , run setup scripts

## DockerImage
ì‹¤í–‰ë˜ê³  ìžˆëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœë¥¼ ì‚¬ì§„ì²˜ëŸ¼ ì°ëŠ”ë‹¤ê³  ìƒê°í•˜ë©´ íŽ¸í•˜ë‹¤
ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•œ ìƒíƒœë¡œ ë‚´ê°€ ì§€ê¸ˆ ê°€ì§€ê³ ìžˆëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ê·¸ëŒ€ë¡œ ì €ìž¥

## Docker Container
ìš°ë¦¬ê°€ ìž˜ ìº¡ì³í•´ë‘” ì–´í”Œë¦¬ì¼€ì´ì…˜ ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìžˆëŠ” ê²ƒ
ìš°ë¦¬ê°€ ì¤€ë¹„í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì°ì€ iamgeë¥¼ êµ¬ë™í•˜ëŠ”ê²ƒ

## ì´ë¯¸ì§€ ê³µìœ  ë°©ë²•
1. dockerfileìž‘ì„±í•œë‹¤ìŒ imageë¥¼ ë§Œë“ ë‹¤
2. imageë¥¼ container registryë¡œ push
3. ì„œë²„ì—ì„œ pull
4. ì„œë²„ì—ì„œ run

# ë„ì»¤ ì“°ê¸°

## ì´ë¯¸ì§€ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ 
> docker run --name ì»¨í…Œì´ë„ˆ ì´ë¦„ -dit -p 8088:80 ì´ë¯¸ì§€ ì´ë¦„

nginxëŠ” ë„ì»¤í—ˆë¸Œì— ê³µìš©ìœ¼ë¡œ ì“°ëŠ” ì´ë¯¸ì§€ë¼ ë°”ë¡œ ì»¨í…Œì´ë„ˆê°€ ë„ì–´ì§
ê³µìš©ì´ ì•„ë‹Œ ê°œì¸ ì´ë¯¸ì§€ë©´ ìžì‹ ì˜ ë„ì»¤ ë°ìŠ¤í¬íƒ‘ì— ì´ë¯¸ì§€ë¥¼ ì €ìž¥í•´ì•¼ë¨

## ë„ì»¤ ì´ë¯¸ì§€ ë§Œë“¤ê¸°
Dockerfileì„ í†µí•´ ë„ì»¤ ì´ë¯¸ì§€ ë§Œë“¤ê¸°
> docker build -t ì´ë¯¸ì§€ì´ë¦„ .

## ë„ì»¤í—ˆë¸Œì— ì´ë¯¸ì§€ ì˜¬ë¦¬ê¸°
> docker push ì´ë¯¸ì§€ì´ë¦„

## ë„ì»¤ ì»´í¬ì¦ˆ
ì¼ë°˜ì ì¸ ì‹œìŠ¤í…œì€ ë‹¨ì¼ì´ ì•„ë‹ˆë‹¤ ì—¬ëŸ¬ ê°œì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì„œë¡œ ì˜ì¡´ì„± ìžˆê²Œ êµ¬ì„±ë˜ì–´ ì‹œìŠ¤í…œì´ ì´ë£¨ì–´ì ¸ìžˆë‹¤
ì´ë•Œ í•„ìš”í•œ ê¸°ìˆ ì´ ë„ì»¤ ì»´í¬ì¦ˆì´ë‹¤.
> docker-compose.yml
```
  version: "3"
  services:
    compose1:
      build:
        comtext: ./compose1
       ports:
        - 8010:10
    compose2:
      build:
        comtext: ./compose2
       ports:
        - 8011:10        
```