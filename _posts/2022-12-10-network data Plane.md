---
layout: single
title: "Data Plane"
toc: true
toc_sticky: true
toc_label: "목차"
categories: network
toc_icon: "bars"
tags: [network]
---

📘컴퓨터 네트워크

# TCP 혼잡 제어 

- AIMD : 송신자는 패킷손실(혼잡) 발생 시까지 전송율을 증가시키고 손실 발생 시 감소시킴

- 슬로우 스타트 : 연결 설정 후 첫 손실발생까지 전송율을 지수적으로 증가시킴 (전송율이 초기에는 느리게 증가하지만 점차 지수적으로 빠르게 증가함)

- 큐빅 : 손실 발생 시 전송율/윈도우를 반으로 줄인후 처음엔는 W(max)까지 더 빠르게 증가하지만 이후에도 W(max)에 더 천천히 접근

- 병목 링크 : TCP에서 TCP패킷 손실 발생할 때까지 전송율을 높이면 특정 라우터 출력에서 손실발생

- 지연 기반 TCP 혼잡 제어 : 손실 없는 혼잡 제어 , 최대 전송 성능 (끝단 파이프를 꽉 채우되 꽉 채우지 않도록 유지하여 지연을 낮춤),최신 TCP는 지연 기반 혼잡 제어 지원

- TCP 공정성 : 최종목표 : 병목 라우터 용량이 R일때 K개의 TCP 세션이 해당 링크를 공유할 경우 각 세션의 평균 사용량은 R/K이기를 기대함

- QUIC : UDP상의 응용 계층 프로토콜 , HTTP성능 향상, 구글 서버와 다양한 브라우저에 구현됨
    - 에러와 혼잡제어 : TCP의 손실감지 및 혼잡제어에 익숙할 경우 잘 알려진 TCP와 유사한 알고리즘을 찾을 수 있음
    - 연결설정 : RTT로 연결된 상태에서 신뢰성 , 혼잡제어 ,인증 , 암호화 등 지원 

- 라우터 : 통과하는 모든 IP데이터그램의 헤더 필드 검사, 종단 경로를 따라 데이터그램을 전송하기 위해 입력 포트에서 출력 포트로 이동

- 포워딩 : 라우터의 입력 링크에서 적절한 라우터 출력 링크로 패킷 이동

- 라우팅 : 발신지에서 목적지까지 패킷의 지나갈 경로 결정

- 데이터 평면 : 라우터 입력 포트에 도착한 데이터그램을 라우터 출력 포트로 전달하는 방법 결정

- 제어 평면 : 발신지 호스트에서 목적지 호스트까지 종단 경로를 따라 라우터 간에 데이터그램이 라우팅되는 경로를 결정
    1. 라우터 단위 제어 평면 : 라우팅 알고리즘 동작에 필요한 구성 요소는 각 라우터의 제어 평면에서 상호작용
    2. 소프트웨어 정의 네트워킹(SDN)제어평면 : 원격 컨트롤러는 포워딩 테이블을 계산하고 라우터에 설치

- 분산 스위칭 : 헤더 필드 값을 사용하여 입력 포트 메모리의 포워딩 테이블을 사용하여 출력 포트 조회
    1. 목적지 기반 포워딩 : 전통적 방식으로 목적지 ip기반으로 포워딩 
    2. 일반적인 포워딩 : 헤더 필드 값으 설정 내용 기반으로 다양한 포워딩

- 가장 긴 프리픽스 일치 : 주어직 목적지 주소에 대한 포워딩 테이블 항목을 찾을 때 목적지 주소와 일치하는 가장 긴 주소 프리픽스를 사용  // 대응규칙 : TCAMs를 사용하여 구현

- 내용 주소화 기억창지 : TCAM에 주소를 입력하면 한 개 클럭 사이클 후에 주소를 찾아낼 수 있는 특수 용도의 고속 메모리

- 스위칭 패브릭 : 입력 링크에서 적절한 출력 링크로 패킷 전송 
    - 스위칭 비율 : 패킷이 입력에서 출력으로 전송될 수 있는 속도 
    1. 메모리 경유 스위칭 : CPU가 직접 제어하는 스위칭 방식의 기존 컴퓨터 방식
    2. 버스를 통한 스위칭 : 입력 포트에 도착한 패킷이 공유 버스를 경유해서 출력 포트 메모리로 이동
        - 버스 충돌 : 버스 대역폭에 의한 스위칭 속도 제한
    3. 인터커넥션을 통한 스위칭 : 크로스바 , 클로스,네트워크, 다중 프로세서에서 프로세서를 연결하기 위해 처음 개발된 상호 연결망(병렬로 여러 스위칭 평명을 사용하여 확장)

- 입력 포트 보다 느린 속도의 패블릭-> 입력 큐에 큐잉 발생 // 입력 버퍼 오버플로우로 인한 큐잉 지연과 손실

- HOL블록킹 : 앞에 있는 데이터그램의 출력 포트 경합으로 인해 뒤에 있는 데이터그램이 비어있는 다른 큐로 이동하는 것을 제한

- 패킷이 패브릭으로부터 전송율보다 빠르게 도착하면 버퍼링 필요 

- 폐기 정책 : 혼잡 , 버퍼 부족으로 인해 데이터 그램이 손실될 수 있음

-버퍼 관리 : 폐기 : 버퍼가 가득 찰때 추가하거나 버릴 패캣 선택 (꼬리 자르기 : 도착 패킷 폐기, 우선순위 : 우선순위에 따라 대기 패킷 버리거나 삭제)

- ISP : 통신서비스 제공 업체 , 정보 서비스 제공 업체

- IP 단편화,재결함 : 긴 ip 데이터 그램은 네트워크 지나며 분리/단편화됨 그리고 재결합

- 서브넷 : IP주소 중 서브넷 주소가 같은 디바이스 인터페이스들의 모임 , 라우터 경유하지 않고 물리적으로 상호 직접 통신 가능

- CIDR (사이더) : ip주소의 서브넷 주소 길이가 고정이 아닌 변동일 경우 표기 방법

- DHCP : 목적 : 호스트가 네트워크에 연결되면 네트워크 서버로부터 동적으로 주소를 얻는것

- NAT : 지역 네트워크의 모든 장치는 외부세계에 대해서 단 하나의 ipv4주소를 공유

- ipv6 :초기 개발동기 :32비트 주소 공간은 조만간 모두 소진될것으로 예측
    1. priority : 흐름의 데이터그램중우선순위 식별 
    2. flow label : 동일한 흐름에서 데이터그램 식별

- 터널링 : ipv4라우터 간의 ipv4데이터 그램에서 페이로드로 운반되는 ipv6데이터그램

- 매치 플러스 액션 : 도착 패킷의 비트가 테이블 내용과 일치하면 조치 취함

- 일반적인 포워딩(flow table 활용) : 많은 헤더 필드 사용하여 작업을결정

- flow table 추상화
    - flow : 링크,네트워크,전송계층필드 등 헤더 필드 값에 의해 정의

- openflow 추상화 : 매치+액션 : 추상화는 다양한 종류의 장리를 통합 (라우터,방화벽,스위치,NAT)

- 미들 박스 : 발신지 호스트와 목적지 호스트 사이의 데이터 경로에서 ip라우터의 일반적인 표준 기능과 다른 기능을 수행하는 모든 중개 상자

- 종단간 논쟁 : 일부 네트워크 기능을 네트워크 또는 네트워크 에지에 구현

- Dijkstra 알고리즘 : 경로진동현상(링크비용이트래픽양에따라 달라지는 경우 경로 진동현상발생가능)

- 거리 벡터 : 회선 비용 변경 (노드가 로컬 링크 비용 변경 감지 ,라우팅 정보 업데이트,로컬dv재계산)

- 확장 가능한 라우팅 : 확장성, 자율적 관리

-OSPF라우팅 : open공개적으로사용가능 

-BGP라우팅 : 사실상 도메인 간 라우팅 프로토콜 
-BGP세션 : 두개의 BGP라우터가 반영구적인TCP연결을 통해 BGP메시지를 교환

- 정책 기반 라우팅 : 경로 광고를 수신하는 게이트웨이는 가조오기 정책을 사용하여 경로를 수락또는 거부

-AS내부와 외부 간 라우팅이 다른 이유 : 정책, 확장성, 성능

-뜨거운 감자 라우팅 : 도메인 내 비용이 가장 적은로컬 게이트웨이 선택

SDN : 원격 제어기는 라우터에 포워딩 테이블을계산하고 설치 // 논리적으로 중앙집중된 제어평면

기존 라우팅의 한계 : 링크 가중치는 제어 장치일뿐이며 세밀한 제어가 되지 않음

-ICMP :호스트와 라우터간에 네트워크 상태 정보 교환에 사용

-네트워크 구성 관리 요소 : 관리 서버 , 피관리 장치, 네트워크 관리 프로토콜, 데이터

네트워크 운영자의 관리 접근 방식 : CLI,SNMP/MIB ,NETCONF/Yang

-NETCONF : 네트워크 전체에서 장치를 능동적으로 관리 .구성

- Yang : NETCONF 네트워크 관리 데이터의 구조 ,구분,의미를 지정하는데 사용되는 데이터 모델링 언어